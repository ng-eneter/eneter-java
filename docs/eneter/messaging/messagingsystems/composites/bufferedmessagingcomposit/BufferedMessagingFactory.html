<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_152) on Sat Jan 06 14:05:52 CET 2018 -->
<title>BufferedMessagingFactory</title>
<meta name="date" content="2018-01-06">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BufferedMessagingFactory";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BufferedMessagingFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../eneter/messaging/messagingsystems/composites/bufferedmessagingcomposit/IBufferedDuplexInputChannel.html" title="interface in eneter.messaging.messagingsystems.composites.bufferedmessagingcomposit"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?eneter/messaging/messagingsystems/composites/bufferedmessagingcomposit/BufferedMessagingFactory.html" target="_top">Frames</a></li>
<li><a href="BufferedMessagingFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">eneter.messaging.messagingsystems.composites.bufferedmessagingcomposit</div>
<h2 title="Class BufferedMessagingFactory" class="title">Class BufferedMessagingFactory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>eneter.messaging.messagingsystems.composites.bufferedmessagingcomposit.BufferedMessagingFactory</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IMessagingSystemFactory.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IMessagingSystemFactory</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">BufferedMessagingFactory</span>
extends java.lang.Object
implements <a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IMessagingSystemFactory.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IMessagingSystemFactory</a></pre>
<div class="block">Extension allowing to work offline until the connection is available.
 
 The buffered messaging is intended to overcome relatively short time intervals when the connection is not available.
 It means the buffered messaging is able to hide unavailable connection and work offline while
 trying to reconnect.<br/>
 If the connection is not available, the buffered messaging stores sent messages (and sent response messages)
 in the buffer and sends them when the connection is established.<br/>
 <b>Note:</b><br/>
 The buffered messaging does not require that both communicating parts create channels with buffered messaging factory.
 It means, e.g. the duplex output channel created with buffered messaging with underlying TCP, can send messages
 directly to the duplex input channel created with just TCP messaging factory.<br/>
 <br/>
 The following example shows how to use buffered messaging e.g. if the connection can get temporarily lost:
 <pre>
 // Create TCP messaging.
 IMessagingSystemFactory anUnderlyingMessaging = new TcpMessagingSystemFactory();
 <br/>
 // Create buffered messaging that internally uses TCP.
 IMessagingSystemFactory aMessaging = new BufferedMessagingSystemFactory(anUnderlyingMessaging);
 <br/>
 // Create the duplex output channel.
 IDuplexOutputChannel anOutputChannel = aMessaging.createDuplexOutputChannel("tcp://127.0.0.1:8045/");
 <br/>
 // Create message sender to send simple string messages.
 IDuplexStringMessagesFactory aSenderFactory = new DuplexStringMessagesFactory();
 IDuplexStringMessageSender aSender = aSenderFactory.CreateDuplexStringMessageSender();
 <br/>
 // Subscribe to receive responses.
 aSender.responseReceived().subscribe(myOnResponseReceived);
 <br/>
 // Attach output channel an be able to send messages and receive responses.
 aSender.attachDuplexOutputChannel(anOutputChannel);
 <br/>
 ...
 <br/>
 // Send a message.
 // If the connection is broken the message will be stored in the buffer.
 // Note: The buffered messaging will try to reconnect automatically.
 aSender.SendMessage("Hello.");
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../eneter/messaging/messagingsystems/composites/bufferedmessagingcomposit/BufferedMessagingFactory.html#BufferedMessagingFactory-eneter.messaging.messagingsystems.messagingsystembase.IMessagingSystemFactory-">BufferedMessagingFactory</a></span>(<a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IMessagingSystemFactory.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IMessagingSystemFactory</a>&nbsp;underlyingMessaging)</code>
<div class="block">Constructs the factory with default parameters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../eneter/messaging/messagingsystems/composites/bufferedmessagingcomposit/BufferedMessagingFactory.html#BufferedMessagingFactory-eneter.messaging.messagingsystems.messagingsystembase.IMessagingSystemFactory-long-">BufferedMessagingFactory</a></span>(<a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IMessagingSystemFactory.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IMessagingSystemFactory</a>&nbsp;underlyingMessaging,
                        long&nbsp;maxOfflineTime)</code>
<div class="block">Constructs the factory from the specified parameters.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IDuplexInputChannel.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IDuplexInputChannel</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eneter/messaging/messagingsystems/composites/bufferedmessagingcomposit/BufferedMessagingFactory.html#createDuplexInputChannel-java.lang.String-">createDuplexInputChannel</a></span>(java.lang.String&nbsp;channelId)</code>
<div class="block">Creates IBufferedDuplexInputChannel which can receive messages from the output channel and send response messages.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IDuplexOutputChannel.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IDuplexOutputChannel</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eneter/messaging/messagingsystems/composites/bufferedmessagingcomposit/BufferedMessagingFactory.html#createDuplexOutputChannel-java.lang.String-">createDuplexOutputChannel</a></span>(java.lang.String&nbsp;channelId)</code>
<div class="block">Creates IBufferedDuplexOutputChannel which can send messages to the input channel and receive response messages.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IDuplexOutputChannel.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IDuplexOutputChannel</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../eneter/messaging/messagingsystems/composites/bufferedmessagingcomposit/BufferedMessagingFactory.html#createDuplexOutputChannel-java.lang.String-java.lang.String-">createDuplexOutputChannel</a></span>(java.lang.String&nbsp;channelId,
                         java.lang.String&nbsp;responseReceiverId)</code>
<div class="block">Creates IBufferedDuplexOutputChannel which can send messages to the input channel and receive response messages.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BufferedMessagingFactory-eneter.messaging.messagingsystems.messagingsystembase.IMessagingSystemFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BufferedMessagingFactory</h4>
<pre>public&nbsp;BufferedMessagingFactory(<a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IMessagingSystemFactory.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IMessagingSystemFactory</a>&nbsp;underlyingMessaging)</pre>
<div class="block">Constructs the factory with default parameters.
 
 The maximum offline time will be set to 10 seconds.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>underlyingMessaging</code> - underlying messaging system e.g. Websocket, TCP, ...</dd>
</dl>
</li>
</ul>
<a name="BufferedMessagingFactory-eneter.messaging.messagingsystems.messagingsystembase.IMessagingSystemFactory-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BufferedMessagingFactory</h4>
<pre>public&nbsp;BufferedMessagingFactory(<a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IMessagingSystemFactory.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IMessagingSystemFactory</a>&nbsp;underlyingMessaging,
                                long&nbsp;maxOfflineTime)</pre>
<div class="block">Constructs the factory from the specified parameters.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>underlyingMessaging</code> - underlying messaging system e.g. Websocket, TCP, ...</dd>
<dd><code>maxOfflineTime</code> - the max time (in milliseconds), the communicating applications can be disconnected.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createDuplexOutputChannel-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDuplexOutputChannel</h4>
<pre>public&nbsp;<a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IDuplexOutputChannel.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IDuplexOutputChannel</a>&nbsp;createDuplexOutputChannel(java.lang.String&nbsp;channelId)
                                               throws java.lang.Exception</pre>
<div class="block">Creates IBufferedDuplexOutputChannel which can send messages to the input channel and receive response messages.
 
 If the connection is not available it puts sent messages to the buffer while trying to reconnect.
 Then when the connection is established the messages are sent from the buffer.
 If the reconnect is not successful within the maximum offline time it notifies
 IDuplexOutputChannel.connectionClosed()
 and messages are deleted from the buffer.<br/>
 The return value can be casted to IBufferedDuplexOutputChannel.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IMessagingSystemFactory.html#createDuplexOutputChannel-java.lang.String-">createDuplexOutputChannel</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IMessagingSystemFactory.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IMessagingSystemFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>channelId</code> - address of the input channel.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>IBufferedDuplexOutputChannel</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="createDuplexOutputChannel-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDuplexOutputChannel</h4>
<pre>public&nbsp;<a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IDuplexOutputChannel.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IDuplexOutputChannel</a>&nbsp;createDuplexOutputChannel(java.lang.String&nbsp;channelId,
                                                      java.lang.String&nbsp;responseReceiverId)
                                               throws java.lang.Exception</pre>
<div class="block">Creates IBufferedDuplexOutputChannel which can send messages to the input channel and receive response messages.
 
 If the connection is not available it puts sent messages to the buffer while trying to reconnect.
 Then when the connection is established the messages are sent from the buffer.
 If the reconnect is not successful within the maximum offline time it notifies
 IDuplexOutputChannel.connectionClosed()
 and messages are deleted from the buffer.<br/>
 The return value can be casted to IBufferedDuplexOutputChannel.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IMessagingSystemFactory.html#createDuplexOutputChannel-java.lang.String-java.lang.String-">createDuplexOutputChannel</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IMessagingSystemFactory.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IMessagingSystemFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>channelId</code> - address of the input channel.</dd>
<dd><code>responseReceiverId</code> - unique identifier of the output channel. If the value is null then the identifier is genearated automatically</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>IBufferedDuplexOutputChannel</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="createDuplexInputChannel-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createDuplexInputChannel</h4>
<pre>public&nbsp;<a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IDuplexInputChannel.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IDuplexInputChannel</a>&nbsp;createDuplexInputChannel(java.lang.String&nbsp;channelId)
                                             throws java.lang.Exception</pre>
<div class="block">Creates IBufferedDuplexInputChannel which can receive messages from the output channel and send response messages.
 
 If the connection with the duplex output channel is not established, it puts sent response messages to the buffer.
 Then, when the duplex input channel is connected, the response messages are sent.
 If the duplex output channel does not connect within the specified maximum offline time, the event
 IDuplexInputChannel.responseReceiverDisconnected() is invoked and response messages are deleted from the buffer.<br/>
 The return value can be casted to IBufferedDuplexInputChannel.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IMessagingSystemFactory.html#createDuplexInputChannel-java.lang.String-">createDuplexInputChannel</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../eneter/messaging/messagingsystems/messagingsystembase/IMessagingSystemFactory.html" title="interface in eneter.messaging.messagingsystems.messagingsystembase">IMessagingSystemFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>channelId</code> - address of the input channel.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>IBufferedDuplexInputChannel</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BufferedMessagingFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../eneter/messaging/messagingsystems/composites/bufferedmessagingcomposit/IBufferedDuplexInputChannel.html" title="interface in eneter.messaging.messagingsystems.composites.bufferedmessagingcomposit"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?eneter/messaging/messagingsystems/composites/bufferedmessagingcomposit/BufferedMessagingFactory.html" target="_top">Frames</a></li>
<li><a href="BufferedMessagingFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
